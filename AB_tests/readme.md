# A/B тесты

Сравнение CTR у двух рзных групп пользователей - обычной и той, которой достался новый алгоритм показа постов в ленте новостей.

* Эксперимент проходил с 2023-05-31 по 2023-06-06 включительно.
* Для эксперимента были задействованы 2 и 1 группы.
* В группе 2 был использован один из новых алгоритмов рекомендации постов, группа 1 использовалась в качестве контроля.

### Задача

Решить, меняет ли новый алгоритм CTR, стоит ли его раскатывать на всех пользователей.

### Дизайн тестирования

0. [Этап подготовки. Разделение на группы (хэширование с солью)](https://github.com/AlinaEvgenevna/AppAnalytics/blob/main/AB_tests/split_groups.ipynb)
1. [Проведение A/A теста, чтобы оценить сплитование и методологию теста](https://github.com/AlinaEvgenevna/AppAnalytics/blob/main/AB_tests/AA_test.ipynb).
2. [Разные вариации A/B тестов:](https://github.com/AlinaEvgenevna/AppAnalytics/blob/main/AB_tests/AB_test.ipynb)
   * t-test
   * тест Манна-Уитни
   * t-тест на сглаженном CTR
   * непараметрический пуассоновский бутстреп
   * Бакетное преобразование, а потом - t-test и манн-уитни
3.  [Тесты на линеризированной метрики (чтобы увеличить чувствительность нашей метрики)](https://github.com/AlinaEvgenevna/AppAnalytics/blob/main/AB_tests/linearized_likes.ipynb)

 
### Инструменты

Python, scipy ttest_ind, mannwhitneyu, poisson

### Выводы

* Разница в распредлениях видна даже на графиках, и большинство из тестов выше считают разницу статистически значимой.
* Однако разница это неоднозначная. Тестовая группа поляризовалась - новый алгоритм повысил CTR в одной ее части и понизил в другой.
* На гистограммах после пуассоновского бутстрепа два распределения даже не пересекаются, и группа 2 - левее группы 1.
* Поэтому гипотезу о том, что новый алгоритм рекомендаций повышает CTR нельзя принять.
И раскатывать новый алгоритм на всех новых пользователей не стоит.
